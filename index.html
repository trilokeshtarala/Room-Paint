<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="description" content="Visualize any wall color in your room. Upload a photo, outline walls, and try colors instantly.">
    <title>RoomPaint â€” Visualize Wall Colors</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ¨</text></svg>">
</head>
<body>

    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <!-- WELCOME SCREEN (Hero / Landing)                        -->
    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <div id="welcome-screen">
        <div class="welcome-content">
            <div class="logo">ğŸ¨</div>
            <h1>RoomPaint</h1>
            <p class="tagline">See any color on your walls â€” before you paint.</p>

            <div id="drop-zone">
                <div class="drop-icon">ğŸ“·</div>
                <p class="drop-main">Drag & drop a room photo here</p>
                <p class="drop-sub">or</p>
                <button id="btn-choose-file" class="btn-hero">Choose Photo</button>
                <p class="drop-hint">JPG, PNG â€” works best with well-lit rooms</p>
            </div>

            <button id="btn-load-project-welcome" class="btn-load-welcome">ğŸ“‚ Load a Previous Project</button>

            <div class="how-it-works">
                <h3>How it works</h3>
                <div class="steps-row">
                    <div class="step-card">
                        <div class="step-num">1</div>
                        <div class="step-icon">ğŸ“¤</div>
                        <p>Upload a room photo</p>
                    </div>
                    <div class="step-arrow">â†’</div>
                    <div class="step-card">
                        <div class="step-num">2</div>
                        <div class="step-icon">âœï¸</div>
                        <p>Outline the walls</p>
                    </div>
                    <div class="step-arrow">â†’</div>
                    <div class="step-card">
                        <div class="step-num">3</div>
                        <div class="step-icon">ğŸ¨</div>
                        <p>Pick colors & compare</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <!-- MAIN APP (hidden until image uploaded)                 -->
    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <div id="app-container" class="hidden">

        <!-- STEP PROGRESS BAR (top) -->
        <div id="step-bar">
            <div class="step-pip active" data-step="1">
                <span class="pip-num">1</span>
                <span class="pip-label">Outline</span>
            </div>
            <div class="step-connector"></div>
            <div class="step-pip" data-step="2">
                <span class="pip-num">2</span>
                <span class="pip-label">Color</span>
            </div>
            <div class="step-connector"></div>
            <div class="step-pip" data-step="3">
                <span class="pip-num">3</span>
                <span class="pip-label">Save</span>
            </div>
        </div>

        <!-- CONTEXTUAL TIP (animated bar below step bar) -->
        <div id="tip-bar">
            <span id="tip-icon">ğŸ’¡</span>
            <span id="tip-text">Tap corners of a wall to outline it. Tap "Close Shape" when done with one wall.</span>
        </div>

        <!-- Floating Zoom/Pan controls -->
        <div id="zoom-controls">
            <button id="btn-zoom-in"    class="tool-btn" title="Zoom In">ï¼‹</button>
            <button id="btn-zoom-out"   class="tool-btn" title="Zoom Out">ï¼</button>
            <button id="btn-zoom-reset" class="tool-btn" title="Reset Zoom">â†º</button>
        </div>

        <button id="mode-toggle" title="Switch between Draw and Pan">
            <span id="mode-icon">âœï¸</span>
            <span id="mode-text">Draw</span>
        </button>

        <!-- Canvas -->
        <div id="canvas-wrapper">
            <canvas id="main-canvas"></canvas>
        </div>

        <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
        <!-- BOTTOM CONTROLS                                     -->
        <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
        <div id="controls-panel">

            <!-- SELECT actions -->
            <div id="select-actions" class="action-row">
                <button id="btn-undo"     class="btn icon-btn" title="Remove last point">â†© Undo</button>
                <button id="btn-add-poly" class="btn primary"  title="Finish this wall shape">âœ“ Close Shape</button>
                <button id="btn-finish"   class="btn success"  title="Move on to coloring">Done â†’</button>
            </div>

            <!-- RECOLOR actions -->
            <div id="recolor-actions" class="hidden">
                <div class="action-row">
                    <button id="btn-back"           class="btn icon-btn" title="Start over">â† Back</button>
                    <button id="btn-compare-toggle" class="btn primary"  title="Compare side by side">â‡” Compare</button>
                    <button id="btn-save"           class="btn success"  title="Download the result">ğŸ’¾ Save</button>
                </div>
                <div class="action-row" style="margin-top:4px">
                    <button id="btn-save-project" class="btn mini" title="Save walls + colors for later">ğŸ“‚ Save Project</button>
                    <button id="btn-load-project" class="btn mini" title="Load a previous project">ğŸ“¥ Load Project</button>
                </div>
                <div id="compare-controls" class="hidden">
                    <button id="btn-snapshot"  class="btn mini">ğŸ“Œ Snapshot</button>
                    <button id="btn-reset-ref" class="btn mini danger-text">Reset Ref</button>
                </div>
            </div>

            <!-- WALL SELECTOR (chips) -->
            <div id="wall-chips" class="hidden"></div>

            <!-- Category nav -->
            <div id="category-nav" class="hidden">
                <button id="btn-prev-cat" class="nav-btn">â€¹</button>
                <span id="current-category">Bedroom</span>
                <button id="btn-next-cat" class="nav-btn">â€º</button>
            </div>

            <!-- Palette -->
            <div id="palette-scroll" class="hidden">
                <div id="color-container"></div>
            </div>

            <!-- Custom picker -->
            <div id="custom-picker-container" class="hidden">
                <label for="custom-color">Custom color</label>
                <input type="color" id="custom-color" value="#ffffff">
            </div>

            <!-- New image -->
            <button id="btn-new-image" class="btn mini new-img-btn" title="Upload a different image">ğŸ“· New Image</button>
        </div>
    </div>

    <!-- Toast container -->
    <div id="toast-container"></div>

    <!-- Hidden file inputs -->
    <input type="file" id="file-input" accept="image/*" style="display:none">
    <input type="file" id="project-input" accept=".roompaint" style="display:none">

    <script src="app.js"></script>
</body>
</html>
